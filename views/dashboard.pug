extends base
mixin chatWithKey(chat)
    .key-revoke-container
        p.chat-name= chat.name.startsWith('.')? chat.name : chat.name.split('.')[0] 
        button.btn-danger.btn.btn-revoke(data-chatid=chat._id) Revoke
        
block content

    .scroll-top.opacity-0
        a(href="#scroll-top")
            i.bi.bi-arrow-up-circle-fill
    section#scroll-top.breadcrumb
        .container
            .col-lg-8.text-center.text-lg-start
                h2.fw-bold.display-5 Welcome Back #{user.name}
                hr
                h4.text-purple.fw-bold
                    | üë®‚Äçüíº We are glad to have you back üë®‚Äçüíº
                p.opacity-75
                    | Lorem ipsum dolor sit amet consectetur adipisicing elit. Cupiditate
                    | vitae velit nam consectetur, in ullam natus pariatur aliquid. Aut,
                    | magnam!
    section.features.py-6.bg-white.px-3.px-lg-0
        .container
            .row
                .col-lg-4.mt-3.p-3.dashboard-card
                    .stat-header
                    .py-3.px-4.bg-white.rounded-3.border.border-1
                        h3.fw-bold.mt-2 Current Subscription
                        .d-flex.justify-content-between.align-items-center
                            h5= subscription.slice(0,1).toUpperCase() + subscription.slice(1)
                            a.btn.btn-outline-primary(href='/pricing') Upgrade
                .col-lg-4.mt-3.p-3.dashboard-card
                    .stat-header
                    .py-3.px-4.bg-white.rounded-3.border.border-1
                        h3.fw-bold.mt-2 Conversational Tokens Left
                        h5= conversationTokens
                .col-lg-4.mt-3.p-3.dashboard-card
                    .stat-header
                    .py-3.px-4.bg-white.rounded-3.border.border-1
                        h3.fw-bold.mt-2 Upload Tokens Left
                        h5= uploadTokens

                .col-lg-4.mt-3.p-3.dashboard-card.manage-keys
                    .stat-header
                    .py-3.px-4.bg-white.rounded-3.border.border-1
                        h3.fw-bold.mt-2 Manage your API keys
                        -if(chats.length === 0)
                            h5 There is no chat with API key
                        -else 
                            -for(let i = 0; i<chats.length; i++)
                                +chatWithKey(chats[i])
                        

                
    